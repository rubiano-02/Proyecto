<button class="menu-toggle" (click)="toggleSidebar()" [class.active]="isSidebarActive" aria-label="Abrir menú">
  <i class="fa-solid fa-bars"></i>
</button>

<div class="container">
  <aside class="sidebar" [class.active]="isSidebarActive" id="sidebar">
    <nav class="menu">
      <a routerLink="/principal" class="menu-item">
        <img src="assets/Images/Casa.jpeg" alt="Inicio" />
        <span>Inicio</span>
      </a>
      <a routerLink="/matematicas-1" class="menu-item">
        <img src="assets/Images/Ejercicios.png" alt="Ejercicios" />
        <span>Ejercicios</span>
      </a>
      <a routerLink="/foro" class="menu-item">
        <img src="assets/Images/Foro.jpeg" alt="Foro" />
        <span>Foro</span>
      </a>
      <a routerLink="/perfil" class="menu-item active">
        <img src="assets/Images/Perfil.jpeg" alt="Perfil" />
        <span>Perfil</span>
      </a>
      <a routerLink="/configuracion" class="menu-item">
        <img src="assets/Images/Mas.jpeg" alt="Más" />
        <span>Más</span>
      </a>
    </nav>
  </aside>

  <main class="contenido">
    <div class="perfil-card">

      <div
        class="banner"
        (click)="seleccionarImagen('banner')"
        [style.backgroundImage]="imagenBanner ? 'url(' + imagenBanner + ')' : 'url(assets/Images/BannerDefault.png)'"
        style="background-size: cover; background-position: center; cursor: pointer;">
      </div>
      <input type="file" accept="image/*" (change)="cambiarImagen($event, 'banner')" #inputBanner hidden>

      <button (click)="uploadBanner()" [disabled]="!selectedBannerFile">Subir Fondo</button>
      <p *ngIf="bannerUploadMessage" class="upload-message">{{ bannerUploadMessage }}</p>

      <div class="perfil-main-content">
        <div class="usuario">
          <img
            [src]="imagenAvatar || 'assets/Images/Foto De Perfil.png'"
            alt="Foto de perfil del usuario"
            class="avatar"
            (click)="seleccionarImagen('avatar')"
            style="cursor: pointer;" />
          <input type="file" accept="image/*" (change)="cambiarImagen($event, 'avatar')" #inputAvatar hidden>

          <button (click)="uploadAvatar()" [disabled]="!selectedAvatarFile">Subir Foto</button>
          <p *ngIf="avatarUploadMessage" class="upload-message">{{ avatarUploadMessage }}</p>

          <h2>{{ userProfile.nombre }}</h2>
          <p class="fecha">Su cuenta fue creada el <br />{{ userProfile.fecha_registro | date:'dd/MM/yyyy' }}</p>
          <img src="assets/Images/Libro.png" alt="Libro" class="libro-icono" />
        </div>

        <div class="linea"></div>

        <div class="logros">
          <h3>
            Logros <img src="assets/Images/Trofeo.png" alt="Trofeo" class="icono-titulo-logros" />
          </h3>
          <div class="logro">
            <img src="assets/Images/Objetivo.png" alt="Objetivo" class="icono-logro" />
            Obtén 90% en los ejercicios
            <div class="barra">
              <div class="progreso rojo" style="width: 60%"><span>60%</span></div>
            </div>
          </div>
          <div class="logro">
            <img src="assets/Images/Calendario.png" alt="Calendario" class="icono-logro" />
            Juega 10 días seguidos
            <div class="barra">
              <div class="progreso azul" style="width: 45%"><span>45%</span></div>
            </div>
          </div>
          <div class="logro">
            <img src="assets/Images/Fuego.png" alt="Fuego" class="icono-logro" />
            Constancia imparable
            <div class="barra">
              <div class="progreso naranja" style="width: 75%"><span>75%</span></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>