<main class="registro-container" data-aos="fade-up" data-aos-duration="1000">
  <h2 data-aos="zoom-in" data-aos-delay="100">Crear una cuenta</h2>

  <form class="registro-form" (ngSubmit)="registrar()" #formRegistro="ngForm">
  <input
    type="number"
    placeholder="Edad"
    required
    data-aos="fade-right"
    data-aos-delay="200"
    [(ngModel)]="edad"
    name="edad"
    #edadInput="ngModel"
  >
  <input
    type="text"
    placeholder="Nombre"
    required
    data-aos="fade-right"
    data-aos-delay="250"
    [(ngModel)]="nombre"
    name="nombre"
    #nombreInput="ngModel"
  >
  <input
    type="email"
    placeholder="Correo"
    required
    data-aos="fade-right"
    data-aos-delay="300"
    [(ngModel)]="email"
    name="email"
    #emailInput="ngModel"
  >

  <div class="input-password" data-aos="fade-right" data-aos-delay="350">
    <input
      [type]="tipoContrasena"
      placeholder="Contraseña"
      required
      [(ngModel)]="contrasena"
      name="contraseña"
      #contraseñaInput="ngModel"
    >
    <span class="ojo" (click)="toggleContrasena()">{{ iconoOjo }}</span>
  </div>

  <button
    class="crear-cuenta"
    data-aos="zoom-in-up"
    data-aos-delay="400"
    [disabled]="formRegistro.invalid"
    type="submit"
  >
    <strong>Crear cuenta</strong>
  </button>
</form>

<!-- Modal para datos del padre/tutor (solo si edad < 18) -->
<div class="modal-backdrop" *ngIf="mostrarModalPadre"></div>
<div *ngIf="mostrarModalPadre" class="modal">
  <h2>Datos del Padre o Tutor</h2>

  <input type="text" placeholder="Nombre del padre/tutor" [(ngModel)]="padre.nombre" name="padreNombre" required>
<input type="text" placeholder="Teléfono" [(ngModel)]="padre.telefono" name="padreTelefono">
<input type="email" placeholder="Correo del padre/tutor" [(ngModel)]="padre.email" name="padreEmail">
<input type="text" placeholder="Dirección" [(ngModel)]="padre.direccion" name="padreDireccion">

  <button (click)="guardarPadreYTutor()">Guardar y continuar</button>
  <button (click)="cerrarModalPadre()">Cancelar</button>
</div>



<!-- Modal con fondo (backdrop) -->
<!-- Fuera del form, al final de <main> -->
<button (click)="abrirModal()" style="margin-top: 20px;">Editar / Eliminar Usuario</button>
<div class="modal-backdrop" *ngIf="mostrarModal"></div>
<div *ngIf="mostrarModal">
  <div class="modal-backdrop" (click)="cerrarModal()"></div>

  <div class="modal">
    <h2>Buscar Usuario</h2>

    <input type="number" [(ngModel)]="usuarioIdBuscar" placeholder="Ingrese ID del usuario" name="buscarId" />
    <button (click)="buscarUsuarioPorId()">Buscar</button>

    <div *ngIf="usuarioEncontrado">
      <label>Nombre:</label>
      <input [(ngModel)]="usuarioEncontrado.nombre" name="nombreEncontrado" />
      <label>Edad:</label>
      <input type="number" [(ngModel)]="usuarioEncontrado.edad" name="edadEncontrado" />
      <label>Correo:</label>
      <input [(ngModel)]="usuarioEncontrado.email" name="emailEncontrado" />
      <label>Contraseña:</label>
      <input [(ngModel)]="usuarioEncontrado.contrasena" name="contrasenaEncontrado" />

      <button (click)="actualizarUsuario()">Editar</button>
      <button (click)="eliminarUsuario()">Eliminar</button>
    </div>

    <div *ngIf="usuarioNoEncontrado">
      <p style="color: red;">Usuario no encontrado</p>
    </div>

    <button (click)="cerrarModal()">Cerrar</button>
  </div>
</div>


    <!-- Botón para cerrar -->


<!-- Modal o contenedor con campos para editar
  -->


  <p class="terminos" data-aos="fade-in" data-aos-delay="500">
    Al registrarte en DIJU, aceptas nuestros<br>
    <strong>Términos</strong> y <strong>Política de privacidad.</strong>
  </p>
</main>
